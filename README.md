# üöó Sistema de Agendamento de Ve√≠culos

Sistema completo de gerenciamento de agendamentos de ve√≠culos desenvolvido com **Django 5.2** e **Python 3.12**, com controle de quilometragem, trajetos e sistema de aprova√ß√£o.

![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![Django](https://img.shields.io/badge/Django-092E20?style=for-the-badge&logo=django&logoColor=white)
![SQLite](https://img.shields.io/badge/SQLite-07405E?style=for-the-badge&logo=sqlite&logoColor=white)
![Bootstrap](https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white)

## üìã Sum√°rio

- [üöÄ In√≠cio R√°pido](#-in√≠cio-r√°pido)
- [üèóÔ∏è Arquitetura](#%EF%B8%8F-arquitetura)
- [‚ú® Funcionalidades](#-funcionalidades)
- [üõ†Ô∏è Tecnologias](#%EF%B8%8F-tecnologias)
- [üì¶ Instala√ß√£o](#-instala√ß√£o)
- [üîß Configura√ß√£o](#-configura√ß√£o)
- [‚ö° Scripts de Automa√ß√£o](#-scripts-de-automa√ß√£o)
- [üèÉ‚Äç‚ôÇÔ∏è Comandos √öteis](#%EF%B8%8F-comandos-√∫teis)
- [üìñ Uso do Sistema](#-uso-do-sistema)
- [üîí Sistema de Autentica√ß√£o](#-sistema-de-autentica√ß√£o)
- [üìÅ Estrutura do Projeto](#-estrutura-do-projeto)
- [üóÑÔ∏è Modelos de Dados](#%EF%B8%8F-modelos-de-dados)
- [üë§ Autor](#-autor)
- [ü§ù Contribui√ß√£o](#-contribui√ß√£o)
- [üìú Licen√ßa](#-licen√ßa)

## üöÄ In√≠cio R√°pido

### ‚ö° Com Scripts de Automa√ß√£o (Recomendado)

```bash
# Clone o projeto
git clone https://github.com/HeitorLouzeiro/agendamento_veiculos.git
cd agendamento_veiculos

# Setup completo automatizado
./setup.sh

# Iniciar servidor
./start.sh
```

### üõ†Ô∏è Manual (Tradicional)

```bash
# Clone e configure manualmente
git clone https://github.com/HeitorLouzeiro/agendamento_veiculos.git
cd agendamento_veiculos
python -m venv venv

# Windows
venv\Scripts\activate
# Linux/Mac
source venv/bin/activate

# Instale depend√™ncias e configure
pip install -r requirements.txt
python manage.py migrate
python manage.py createsuperuser
python manage.py runserver
```

‚úÖ Acesse: **http://127.0.0.1:8000**

> üí° **Dica:** Use os scripts de automa√ß√£o para uma experi√™ncia mais r√°pida! Veja [SCRIPTS.md](SCRIPTS.md) para detalhes.

## üèóÔ∏è Arquitetura

O sistema segue a arquitetura **MVT (Model-View-Template)** do Django:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Cliente (Browser)                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ HTTP Request/Response
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Django Framework                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ   URLs       ‚îÇ‚îÄ‚ñ∫‚îÇ    Views     ‚îÇ‚óÑ‚ñ∫‚îÇ   Templates  ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ  (Routers)   ‚îÇ  ‚îÇ (Controllers)‚îÇ  ‚îÇ    (HTML)    ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                            ‚îÇ                                 ‚îÇ
‚îÇ                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                       ‚îÇ
‚îÇ                    ‚îÇ     Models     ‚îÇ                       ‚îÇ
‚îÇ                    ‚îÇ  (ORM Layer)   ‚îÇ                       ‚îÇ
‚îÇ                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                             ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  SQLite Database ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Aplica√ß√µes Django

- **usuarios** - Autentica√ß√£o e gest√£o de usu√°rios
- **cursos** - Cadastro e controle de cursos
- **veiculos** - Gest√£o de ve√≠culos
- **agendamentos** - Controle de agendamentos e trajetos
- **dashboard** - Painel principal do sistema

## ‚ú® Funcionalidades

### üë®‚Äçüè´ Para Professores
- ‚úÖ Criar solicita√ß√µes de agendamento de ve√≠culos
- ‚úÖ Visualizar hist√≥rico de agendamentos pr√≥prios
- ‚úÖ Registrar trajetos realizados com quilometragem
- ‚úÖ Editar perfil e alterar senha
- ‚úÖ Recupera√ß√£o de senha por perguntas de seguran√ßa
- ‚úÖ Acompanhar status das solicita√ß√µes

### üëî Para Administradores
- ‚úÖ Aprovar ou reprovar solicita√ß√µes de agendamento
- ‚úÖ Gerenciar cadastro de ve√≠culos (CRUD completo)
- ‚úÖ Gerenciar cadastro de cursos (CRUD completo)
- ‚úÖ Gerenciar usu√°rios (professores e administradores)
- ‚úÖ Visualizar todos os agendamentos do sistema
- ‚úÖ Monitorar uso de quilometragem por curso
- ‚úÖ Dashboard com estat√≠sticas e vis√£o geral
- ‚úÖ Controle de limite de KM mensal por curso

### üîß Funcionalidades do Sistema
- ‚úÖ Sistema de autentica√ß√£o por e-mail ou username
- ‚úÖ Valida√ß√£o autom√°tica de conflitos de hor√°rios
- ‚úÖ Controle de limite de KM mensal por curso
- ‚úÖ Hist√≥rico completo de trajetos e quilometragem
- ‚úÖ Interface responsiva para desktop e mobile
- ‚úÖ Notifica√ß√µes de status de agendamento
- ‚úÖ Relat√≥rios de uso de ve√≠culos
- ‚úÖ Sistema de busca e filtros avan√ßados

## üõ†Ô∏è Tecnologias

### Backend
- **Python** 3.12+ - Linguagem de programa√ß√£o
- **Django** 5.2.7 - Framework web
- **SQLite** - Banco de dados (desenvolvimento)
- **Django ORM** - Mapeamento objeto-relacional
- **Django Auth** - Sistema de autentica√ß√£o

### Frontend
- **HTML5/CSS3** - Estrutura e estilo
- **JavaScript** - Interatividade no cliente
- **Bootstrap** 5 - Framework CSS responsivo
- **jQuery** - Biblioteca JavaScript

### Bibliotecas e Depend√™ncias
- **django-debug-toolbar** 6.0.0 - Ferramenta de debug
- **Pillow** 11.3.0 - Processamento de imagens
- **python-decouple** 3.8 - Gerenciamento de vari√°veis de ambiente
- **python-dotenv** 1.1.1 - Carregamento de vari√°veis .env
- **Faker** 37.8.0 - Gera√ß√£o de dados de teste
- **pytz** 2025.2 - Suporte a fusos hor√°rios
- **gunicorn** 23.0.0 - Servidor WSGI para produ√ß√£o
- **whitenoise** 6.11.0 - Servir arquivos est√°ticos em produ√ß√£o

## üì¶ Instala√ß√£o

### Pr√©-requisitos

- **Python** 3.12 ou superior
- **pip** (gerenciador de pacotes Python)
- **Git** (para clonar o reposit√≥rio)
- **Virtualenv** (recomendado)

### Verifica√ß√£o de Depend√™ncias

```bash
# Verificar Python
python --version

# Verificar pip
pip --version

# Verificar Git
git --version
```

### Instala√ß√£o Detalhada

#### Configura√ß√£o do Ambiente Virtual

**Windows:**
```cmd
# CMD
venv\Scripts\activate

# PowerShell
venv\Scripts\Activate.ps1
```

**Linux/Mac:**
```bash
source venv/bin/activate
```

#### Dados de Exemplo (Opcional)

Execute `python manage.py load_sample_data` para criar:
- üîê **3 administradores** com credenciais de teste
- üë®‚Äçüè´ **10 professores** com perfis completos  
- üìö **5 cursos** diversos com limites de KM
- üöó **8 ve√≠culos** com diferentes caracter√≠sticas
- üìÖ **30 agendamentos** com status variados
- üó∫Ô∏è **Trajetos** associados aos agendamentos aprovados

### üë§ Usu√°rios de Teste

Para facilitar o teste do sistema de recupera√ß√£o de senha, aqui est√£o as credenciais e respostas de seguran√ßa dos usu√°rios padr√£o:

#### **üîê Administrador Principal**
| Campo | Valor |
|-------|-------|
| **E-mail** | `admin@sistema.com` |
| **Username** | `admin` |
| **Senha** | `admin123` |

**Perguntas de Seguran√ßa:**
| Pergunta | Resposta |
|----------|----------|
| Qual √© o nome da sua m√£e? | `Maria` |
| Qual √© o nome do seu primeiro animal de estima√ß√£o? | `Rex` |
| Em que cidade voc√™ nasceu? | `S√£o Paulo` |

#### **üë®‚Äçüè´ Professor de Teste**
| Campo | Valor |
|-------|-------|
| **E-mail** | `professor@teste.com` |
| **Username** | `professor` |
| **Senha** | `prof123` |

**Perguntas de Seguran√ßa:**
| Pergunta | Resposta |
|----------|----------|
| Qual √© o nome da sua escola prim√°ria? | `Santos Dumont` |
| Qual √© seu filme favorito? | `Matrix` |
| Qual √© sua comida favorita? | `Pizza` |

#### **üß™ Como Testar a Recupera√ß√£o de Senha**

1. **Acesse:** `/usuarios/recuperar-senha/`
2. **Digite:** `admin@sistema.com` ou `admin`
3. **Responda:**
   - Nome da m√£e: `Maria`
   - Nome do animal: `Rex` 
   - Cidade natal: `S√£o Paulo`
4. **Defina uma nova senha** seguindo os crit√©rios de seguran√ßa
5. **Fa√ßa login** com a nova senha

> ‚ö†Ô∏è **Aten√ß√£o:** As respostas s√£o **case-sensitive**. Digite exatamente como mostrado acima!

## üîß Configura√ß√£o

### Vari√°veis de Ambiente

Crie um arquivo `.env` na raiz do projeto (opcional para desenvolvimento):

```env
# Seguran√ßa
SECRET_KEY=sua-chave-secreta-super-segura-aqui-123456789
DEBUG=True

# Hosts permitidos
ALLOWED_HOSTS=localhost,127.0.0.1

# Banco de dados
DATABASE_URL=sqlite:///db.sqlite3

# Fuso hor√°rio
TIME_ZONE=America/Sao_Paulo
LANGUAGE_CODE=pt-br
```

### Configura√ß√µes Importantes

#### Desenvolvimento
```python
DEBUG = True
./setup.shALLOWED_HOSTS = []
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}
```

#### Produ√ß√£o

Para ambiente de produ√ß√£o, certifique-se de:

1. ‚ö†Ô∏è Definir `DEBUG = False`
2. üåê Configurar `ALLOWED_HOSTS` com os dom√≠nios permitidos
3. üîë Usar uma `SECRET_KEY` segura e √∫nica
4. üíæ Configurar banco de dados PostgreSQL ou MySQL
5. üì¶ Coletar arquivos est√°ticos:
   ```bash
   python manage.py collectstatic --noinput
   ```
6. üöÄ Usar servidor WSGI (Gunicorn):
   ```bash
   gunicorn agendamento_veiculos.wsgi:application
   ```

### Estrutura de Configura√ß√£o

| Configura√ß√£o | Desenvolvimento | Produ√ß√£o |
|--------------|----------------|----------|
| **DEBUG** | True | False |
| **Banco de Dados** | SQLite | PostgreSQL/MySQL |
| **Servidor** | runserver | Gunicorn + Nginx |
| **ALLOWED_HOSTS** | [] | ['seu-dominio.com'] |
| **STATIC_ROOT** | - | /var/www/static/ |

## ‚ö° Scripts de Automa√ß√£o

O projeto inclui scripts shell para automatizar tarefas comuns de desenvolvimento:

### üéØ Scripts Principais

```bash
# Setup inicial completo (execute uma vez)
./setup.sh

# Iniciar servidor com verifica√ß√µes completas
./start.sh

# Desenvolvimento r√°pido (minimalista)
./dev.sh

# Reset completo do banco de dados
./reset.sh
```

### üìã Funcionalidades dos Scripts

| Script | Funcionalidade | Uso |
|--------|---------------|-----|
| **setup.sh** | Configura√ß√£o inicial completa | Primeira vez ou nova m√°quina |
| **start.sh** | Servidor com verifica√ß√µes | Desenvolvimento di√°rio |
| **dev.sh** | Servidor r√°pido | Quando precisa de velocidade |
| **reset.sh** | Reset do banco | Quando quer come√ßar do zero |

### üé® Caracter√≠sticas

- ‚úÖ **Interface colorida** e informativa
- ‚úÖ **Verifica√ß√µes autom√°ticas** de ambiente
- ‚úÖ **Detec√ß√£o de porta** dispon√≠vel (8000-8005)
- ‚úÖ **Cria√ß√£o autom√°tica** de venv se necess√°rio
- ‚úÖ **Tratamento de erros** robusto
- ‚úÖ **Confirma√ß√µes de seguran√ßa** para a√ß√µes destrutivas

> üìñ **Documenta√ß√£o completa:** Veja [SCRIPTS.md](SCRIPTS.md) para detalhes e exemplos.

## üèÉ‚Äç‚ôÇÔ∏è Comandos √öteis

```bash
# Servidor de desenvolvimento
python manage.py runserver                  # Porta padr√£o (8000)
python manage.py runserver 8080            # Porta customizada
python manage.py runserver 0.0.0.0:8000    # Acess√≠vel na rede

# Migra√ß√µes
python manage.py makemigrations             # Criar migra√ß√µes
python manage.py migrate                    # Aplicar migra√ß√µes

# Administra√ß√£o
python manage.py createsuperuser           # Criar administrador
python manage.py collectstatic             # Arquivos est√°ticos
python manage.py shell                     # Shell Django
python manage.py load_sample_data          # Dados de exemplo

# Gerenciamento de usu√°rios
python manage.py changepassword <username>  # Alterar senha de usu√°rio
python manage.py create_test_users          # Criar usu√°rios de teste
python manage.py list_users                 # Listar todos os usu√°rios

# Recupera√ß√£o de senha (via shell)
python manage.py shell -c "
from usuarios.models import Usuario
user = Usuario.objects.get(email='admin@sistema.com')
user.set_password('nova_senha_123')
user.save()
print('Senha alterada com sucesso!')
"

# Verificar perguntas de seguran√ßa de um usu√°rio
python manage.py shell -c "
from usuarios.models import Usuario
user = Usuario.objects.get(email='admin@sistema.com')
print(f'Pergunta 1: {user.pergunta_seguranca_1}')
print(f'Pergunta 2: {user.pergunta_seguranca_2}') 
print(f'Pergunta 3: {user.pergunta_seguranca_3}')
"
```

## üìñ Uso do Sistema

### Acessos

- üåê **Sistema Principal**: http://127.0.0.1:8000
- üîê **Login**: http://127.0.0.1:8000/login/
- üìä **Dashboard**: http://127.0.0.1:8000/dashboard/
- ‚öôÔ∏è **Admin Django**: http://127.0.0.1:8000/admin/

### Credenciais de Teste

Com dados de exemplo carregados:

| Tipo | Username | Senha | Email |
|------|----------|-------|-------|
| Admin | admin | admin123 | admin@example.com |
| Admin | admin2 | admin123 | admin2@example.com |
| Professor | professor1 | prof123 | professor1@example.com |

### Fluxo de Trabalho

#### üë®‚Äçüè´ Para Professores:

1. üîê **Login** no sistema
2. üìÖ Acesse **"Agendamentos"** > **"Novo Agendamento"**
3. üìù Preencha os dados:
   - Curso
   - Ve√≠culo
   - Data/hora de in√≠cio
   - Data/hora de fim
4. ‚è≥ Aguarde a **aprova√ß√£o** do administrador
5. ‚úÖ Ap√≥s aprova√ß√£o, **registre os trajetos** realizados com quilometragem

#### üëî Para Administradores:

1. üîê **Login** no sistema
2. üìã Acesse **"Agendamentos"** para ver todas as solicita√ß√µes
3. ‚úÖ Clique em **"Aprovar"** ou ‚ùå **"Reprovar"** nas solicita√ß√µes pendentes
4. üöó Gerencie **ve√≠culos** (adicionar, editar, inativar)
5. üìö Gerencie **cursos** (adicionar, editar, configurar limites de KM)
6. üë• Gerencie **usu√°rios** (professores e administradores)
7. üìä Monitore o **uso de quilometragem** por curso no dashboard

### Interface Admin Django

Acesse `/admin/` para usar a interface administrativa completa do Django com recursos avan√ßados:
- Gest√£o completa de todos os modelos
- Filtros e buscas avan√ßadas
- Edi√ß√£o em massa
- Hist√≥rico de altera√ß√µes

## üîí Sistema de Autentica√ß√£o

### N√≠veis de Acesso

| Tipo | Permiss√µes |
|------|-----------|
| **Administrador** | Acesso total: gest√£o de usu√°rios, aprova√ß√£o de agendamentos, configura√ß√µes |
| **Professor** | Criar agendamentos, registrar trajetos, visualizar pr√≥prios agendamentos |

### Caracter√≠sticas de Seguran√ßa

- ‚úÖ Autentica√ß√£o por **e-mail** ou **username**
- ‚úÖ Backend customizado (`EmailOrUsernameBackend`)
- ‚úÖ Recupera√ß√£o de senha por **perguntas de seguran√ßa**
- ‚úÖ Prote√ß√£o CSRF e valida√ß√£o de senhas fortes
- ‚úÖ Rotas protegidas por n√≠vel de acesso

### üîê Sistema de Recupera√ß√£o de Senha

O sistema possui um processo seguro de recupera√ß√£o de senha em **3 etapas** usando perguntas de seguran√ßa:

#### **Etapa 1: Identifica√ß√£o do Usu√°rio**
- Informe seu **e-mail** ou **nome de usu√°rio**
- Sistema verifica se o usu√°rio existe

#### **Etapa 2: Perguntas de Seguran√ßa**
Responda **2 perguntas de seguran√ßa** cadastradas durante o registro:

| Pergunta | Exemplo de Resposta |
|----------|-------------------|
| **Qual √© o nome da sua m√£e?** | `Maria Silva` |
| **Qual √© o nome do seu primeiro animal de estima√ß√£o?** | `Rex` |
| **Em que cidade voc√™ nasceu?** | `S√£o Paulo` |
| **Qual √© o nome da sua escola prim√°ria?** | `Escola Santos Dumont` |
| **Qual √© seu filme favorito?** | `Cidade de Deus` |
| **Qual √© sua comida favorita?** | `Pizza` |
| **Qual √© o nome do seu melhor amigo de inf√¢ncia?** | `Jo√£o` |
| **Em que ano voc√™ se formou no ensino m√©dio?** | `2015` |
| **Qual √© o modelo do seu primeiro carro?** | `Civic` |
| **Qual √© o nome da rua onde voc√™ cresceu?** | `Rua das Flores` |

#### **Etapa 3: Nova Senha**
- Ap√≥s validar as respostas, defina sua **nova senha**
- A senha deve atender aos crit√©rios de seguran√ßa

#### **üîí Crit√©rios de Senha Segura**
- ‚úÖ M√≠nimo de **8 caracteres**
- ‚úÖ Pelo menos **1 letra mai√∫scula**
- ‚úÖ Pelo menos **1 letra min√∫scula**
- ‚úÖ Pelo menos **1 n√∫mero**
- ‚úÖ Pelo menos **1 caractere especial** (@, #, $, %, etc.)

#### **‚ö†Ô∏è Importante**
- As respostas s√£o **case-sensitive** (diferencia mai√∫sculas/min√∫sculas)
- Mantenha suas respostas **exatamente** como cadastradas
- Em caso de esquecimento, contate o administrador do sistema

### üéØ Fluxo de Recupera√ß√£o

```mermaid
graph TD
    A[Esqueci minha senha] --> B[Informar e-mail/usu√°rio]
    B --> C[Responder 2 perguntas de seguran√ßa]
    C --> D{Respostas corretas?}
    D -->|Sim| E[Definir nova senha]
    D -->|N√£o| F[Erro - Tentar novamente]
    E --> G[Login com nova senha]
    F --> C
```

### üß™ Usu√°rios de Teste

Para testar o sistema de recupera√ß√£o de senha, use estes usu√°rios pr√©-configurados:

#### **Admin Principal**
- **E-mail:** `admin@sistema.com`
- **Username:** `admin`
- **Senha:** `admin123`
- **Perguntas de Seguran√ßa:**
  - *Qual √© o nome da sua m√£e?* ‚Üí `Maria`
  - *Qual √© o nome do seu primeiro animal de estima√ß√£o?* ‚Üí `Rex`

#### **Professor de Teste**
- **E-mail:** `professor@teste.com`
- **Username:** `professor`
- **Senha:** `prof123`
- **Perguntas de Seguran√ßa:**
  - *Em que cidade voc√™ nasceu?* ‚Üí `S√£o Paulo`
  - *Qual √© sua comida favorita?* ‚Üí `Pizza`

### üîß Comandos de Gerenciamento de Senha

```bash
# Alterar senha via Django Admin
python manage.py changepassword admin

# Criar superusu√°rio
python manage.py createsuperuser

# Shell interativo para manipular usu√°rios
python manage.py shell
```

**Exemplo no shell:**
```python
from usuarios.models import Usuario

# Encontrar usu√°rio
user = Usuario.objects.get(email='admin@sistema.com')

# Alterar respostas de seguran√ßa
user.resposta_seguranca_1 = 'Nova Resposta'
user.resposta_seguranca_2 = 'Outra Resposta'
user.save()

# Verificar respostas
print(f"Pergunta 1: {user.pergunta_seguranca_1}")
print(f"Resposta 1: {user.resposta_seguranca_1}")
```

## üìÅ Estrutura do Projeto

```
agendamento_veiculos/
‚îú‚îÄ‚îÄ üìÅ agendamento_veiculos/      # Configura√ß√µes do projeto Django
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ settings.py            # Configura√ß√µes principais
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ urls.py                # URLs raiz do projeto
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ wsgi.py                # Configura√ß√£o WSGI
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ asgi.py                # Configura√ß√£o ASGI
‚îÇ
‚îú‚îÄ‚îÄ üìÅ usuarios/                  # App de usu√°rios
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ models.py              # Model Usuario (AbstractUser customizado)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ views.py               # Views de autentica√ß√£o e perfil
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ forms.py               # Formul√°rios de usu√°rio
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ backends.py            # Backend de autentica√ß√£o customizado
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ urls.py                # URLs do app
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ admin.py               # Configura√ß√£o do admin
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ migrations/            # Migra√ß√µes do banco
‚îÇ
‚îú‚îÄ‚îÄ üìÅ cursos/                    # App de cursos
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ models.py              # Model Curso
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ views.py               # CRUD de cursos
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ forms.py               # Formul√°rios de curso
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ urls.py                # URLs do app
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ admin.py               # Configura√ß√£o do admin
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ migrations/            # Migra√ß√µes do banco
‚îÇ
‚îú‚îÄ‚îÄ üìÅ veiculos/                  # App de ve√≠culos
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ models.py              # Model Veiculo
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ views.py               # CRUD de ve√≠culos
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ forms.py               # Formul√°rios de ve√≠culo
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ urls.py                # URLs do app
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ admin.py               # Configura√ß√£o do admin
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ migrations/            # Migra√ß√µes do banco
‚îÇ
‚îú‚îÄ‚îÄ üìÅ agendamentos/              # App de agendamentos
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ models.py              # Models: Agendamento, Trajeto
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ views.py               # Views de agendamento e trajeto
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ forms.py               # Formul√°rios de agendamento
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ urls.py                # URLs do app
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ admin.py               # Configura√ß√£o do admin
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ migrations/            # Migra√ß√µes do banco
‚îÇ
‚îú‚îÄ‚îÄ üìÅ dashboard/                 # App do dashboard
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ models.py              # (sem models espec√≠ficos)
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ views.py               # View do dashboard principal
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ urls.py                # URLs do app
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ migrations/            # Migra√ß√µes do banco
‚îÇ
‚îú‚îÄ‚îÄ üìÅ templates/                 # Templates HTML
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ base.html              # Template base
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ usuarios/              # Templates de autentica√ß√£o
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ login.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ registro.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ editar_perfil.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ alterar_senha.html
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ cursos/                # Templates de cursos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ lista.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ form.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ deletar.html
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ veiculos/              # Templates de ve√≠culos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ lista.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ form.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ deletar.html
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ agendamentos/          # Templates de agendamentos
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ lista.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ form.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ detalhe.html
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ aprovacao.html
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ reprovar.html
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ dashboard/             # Templates do dashboard
‚îÇ       ‚îî‚îÄ‚îÄ üìÑ index.html
‚îÇ
‚îú‚îÄ‚îÄ üìÑ manage.py                  # Script de gerenciamento Django
‚îú‚îÄ‚îÄ üìÑ requirements.txt           # Depend√™ncias do projeto
‚îú‚îÄ‚îÄ üìÑ load_sample_data.py        # Script para dados de exemplo
‚îú‚îÄ‚îÄ üìÑ db.sqlite3                 # Banco de dados SQLite
‚îî‚îÄ‚îÄ üìÑ README.md                  # Este arquivo
```

## üóÑÔ∏è Modelos de Dados

### üë§ Usuario (AbstractUser customizado)

```python
class Usuario(AbstractUser):
    tipo_usuario        # 'professor' ou 'administrador'
    email               # E-mail √∫nico (obrigat√≥rio)
    telefone            # Telefone de contato
    pergunta_seguranca_1  # Primeira pergunta de seguran√ßa
    resposta_seguranca_1  # Resposta da primeira pergunta
    pergunta_seguranca_2  # Segunda pergunta de seguran√ßa
    resposta_seguranca_2  # Resposta da segunda pergunta
    # + Campos do Django User (username, password, first_name, etc.)
```

### üìö Curso

```python
class Curso(models.Model):
    id = UUIDField         # ID √∫nico (UUID)
    nome                   # Nome do curso (√∫nico)
    limite_km_mensal       # Limite de quilometragem mensal
    descricao              # Descri√ß√£o do curso
    ativo                  # Status do curso (ativo/inativo)
    criado_em              # Data de cria√ß√£o
    atualizado_em          # Data da √∫ltima atualiza√ß√£o
```

**M√©todos:**
- `get_km_utilizados_mes(ano, mes)` - Retorna KM utilizados no m√™s
- `tem_limite_disponivel(km_adicional, ano, mes)` - Verifica disponibilidade de KM

### üöó Veiculo

```python
class Veiculo(models.Model):
    id = UUIDField              # ID √∫nico (UUID)
    placa                       # Placa do ve√≠culo (√∫nica)
    modelo                      # Modelo do ve√≠culo
    marca                       # Marca do ve√≠culo
    ano                         # Ano de fabrica√ß√£o
    cor                         # Cor do ve√≠culo
    capacidade_passageiros      # Capacidade de passageiros
    observacoes                 # Observa√ß√µes adicionais
    ativo                       # Status do ve√≠culo (ativo/inativo)
    criado_em                   # Data de cria√ß√£o
    atualizado_em               # Data da √∫ltima atualiza√ß√£o
```

**M√©todos:**
- `tem_conflito(data_inicio, data_fim, agendamento_id)` - Verifica conflitos de hor√°rio

### üìÖ Agendamento

```python
class Agendamento(models.Model):
    id = UUIDField           # ID √∫nico (UUID)
    curso                    # ForeignKey para Curso
    professor                # ForeignKey para Usuario
    veiculo                  # ForeignKey para Veiculo
    data_inicio              # Data/hora de in√≠cio
    data_fim                 # Data/hora de fim
    status                   # 'pendente', 'aprovado' ou 'reprovado'
    motivo_reprovacao        # Motivo da reprova√ß√£o (opcional)
    aprovador                # ForeignKey para Usuario (quem aprovou)
    data_aprovacao           # Data da aprova√ß√£o/reprova√ß√£o
    criado_em                # Data de cria√ß√£o
    atualizado_em            # Data da √∫ltima atualiza√ß√£o
```

**M√©todos:**
- `aprovar(aprovador)` - Aprova o agendamento
- `reprovar(aprovador, motivo)` - Reprova o agendamento
- `get_km_total()` - Retorna quilometragem total dos trajetos

### üó∫Ô∏è Trajeto

```python
class Trajeto(models.Model):
    id = UUIDField           # ID √∫nico (UUID)
    agendamento              # ForeignKey para Agendamento
    km_inicial               # Quilometragem inicial
    km_final                 # Quilometragem final
    descricao                # Descri√ß√£o do trajeto
    data_registro            # Data de registro
    criado_em                # Data de cria√ß√£o
```

**Propriedades:**
- `km_percorridos` - Calcula a diferen√ßa entre KM final e inicial

## üë§ Autor

**Heitor Louzeiro** - *Desenvolvedor Principal*
- GitHub: [@HeitorLouzeiro](https://github.com/HeitorLouzeiro)
- LinkedIn: [Heitor Louzeiro](https://www.linkedin.com/in/heitor-louzeiro/)

## ü§ù Contribui√ß√£o

1. **Fork** o projeto
2. Crie uma **branch** para sua feature (`git checkout -b feature/NovaFuncionalidade`)
3. **Commit** suas mudan√ßas (`git commit -m 'Adiciona NovaFuncionalidade'`)
4. **Push** para a branch (`git push origin feature/NovaFuncionalidade`)
5. Abra um **Pull Request**

### Diretrizes de Contribui√ß√£o

- ‚úÖ Siga a **PEP 8** para c√≥digo Python
- ‚úÖ Use **nomes descritivos** para vari√°veis e fun√ß√µes
- ‚úÖ Adicione **docstrings** para classes e fun√ß√µes
- ‚úÖ Escreva **testes** para novas funcionalidades
- ‚úÖ Atualize a **documenta√ß√£o** quando necess√°rio
- ‚úÖ Use **commits sem√¢nticos**

### Commits Sem√¢nticos

```
feat: Nova funcionalidade
fix: Corre√ß√£o de bug
docs: Altera√ß√£o na documenta√ß√£o
style: Formata√ß√£o de c√≥digo
refactor: Refatora√ß√£o de c√≥digo
test: Adi√ß√£o ou corre√ß√£o de testes
chore: Tarefas de manuten√ß√£o
```

## üìú Licen√ßa

Este projeto est√° licenciado sob a Apache License - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

<div align="center">

üöó **Sistema de Agendamento de Ve√≠culos** üöó

*Desenvolvido com Django - Controle total dos seus agendamentos*

</div>
